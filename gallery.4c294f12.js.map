{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-4b08e798a9cb7982.js","src/gallery.js","node_modules/@parcel/runtime-js/lib/runtime-63fa19aa3301a04f.js","src/js/local-storage.js","src/js/modalMovieLibrarySS.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"T57zD\\\":\\\"gallery.4c294f12.js\\\",\\\"bNA7a\\\":\\\"no-image.0b269193.jpg\\\",\\\"iH3o9\\\":\\\"gallery.e7eadedf.js\\\"}\"));","import './js/preloader';\nimport './js/footer-modal';\nimport './js/local-storage';\nimport './js/dark-light';\n// import './js/modalMovieLibrary';\nimport './js/modalMovieLibrarySS';\nimport './js/showing-trailer';\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"bNA7a\")).toString();","import no_image from '../images/no-image.jpg';\nimport { checkGenresById } from './checkGenresById.js';\nimport { paginationMarkUp } from './pagination.js';\n\nconst watchedLibBtn = document.querySelector('.js-watched-lib-btn');\nconst queueLibBtn = document.querySelector('.js-queue-lib-btn');\nconst libraryBox = document.querySelector('.js-library-gallery');\nconst emptyGalleryBox = document.querySelector('.info-notify-box');\nconst emptyGalleryText = document.querySelector('.info-notify-text');\n\nconst paginationBox = document.querySelector('.pagination');\nlet currentPage = 1;\nlet maxPage = 1;\n\nwindow.addEventListener('load', function () {\n  setTimeout(function () {\n    watchedLibBtn.click();\n  }, 0);\n});\n\n\n// Функція розпарсить об'єкти з localStorage\nfunction localStorageObject(key) {\n  const getObjectFromLs = localStorage.getItem(key);\n  const parseObjectFromLs = JSON.parse(getObjectFromLs);\n  // console.log(parseObjectFromLs);\n\n    if (!parseObjectFromLs) {\n    return emptyGalleryBox.classList.remove('is-hidden');\n  } else {\n    maxPage = Math.ceil(parseObjectFromLs.length / 20);\n    paginationMarkUp(currentPage, maxPage);\n  }\n\n  return parseObjectFromLs;\n}\n\n// ключі від localStorage\nlet watchedArray = localStorageObject('WATCHED_LIST_DATA_KEY');\nlet queueArray = localStorageObject('QUEUE_LIST_DATA_KEY');\n\n// Рендерить розмітку у бібліотеці по дефолту\nrenderLibrary(watchedArray);\nwatchedLibBtn.classList.add('btn-is-active');\n\n// Функція для рендуру розмітки\nexport function renderLibrary(arrayMovies) {\n  if (!arrayMovies || !arrayMovies.length) {\n    clearMarkup();\n    return emptyGalleryBox.classList.remove('is-hidden');\n  }\n\n  const markupOneCard = obj => {\n    clearMarkup();\n    checkGenresById(obj);\n\n    let posterSrc = '';\n    if (obj.poster_path) {\n      posterSrc = `https://image.tmdb.org/t/p/w500${obj.poster_path}`;\n    } else {\n      posterSrc = no_image;\n    }\n\n    return ` <li class=\"card-wraper\" id=\"${obj.id}\">\n       <a class=\"card-wraper_link\" href=\"#\"><img class=\"card-img\" src=\"${posterSrc}\" alt=\"${\n      obj.title || obj.name\n    }\"/></a>\n       <div class=\"card-title\">${obj.title || obj.name}</div>\n      <div class=\"wraper\">\n         <div class=\"card-genre-wraper\">\n           <div class=\"card-genre\">${checkGenresById(obj)}</div>\n         </div>\n         <div class=\"card-year\">\n\n         ${obj.release_date.slice(0, 4) || obj.first_air_date.slice(0, 4) || ''}\n\n         </div>\n         <div class=\"card-rating-wraper\"><div class=\"card-rating\">${obj.vote_average.toFixed(\n           1\n         )}</div></div>\n       </div>\n     </li>`;\n  };\n\n  const libraryMarkup = arrayMovies.map(markupOneCard).join('');\n  libraryBox.insertAdjacentHTML('beforeend', libraryMarkup);\n}\n\nwatchedLibBtn.addEventListener('click', onClickWatched);\nqueueLibBtn.addEventListener('click', onClickQueue);\n\nexport function onClickWatched(modalDel) {\n  watchedLibBtn.classList.add('btn-is-active');\n  queueLibBtn.classList.remove('btn-is-active');\n  emptyGalleryBox.classList.add('is-hidden');\n\n  if (modalDel != 1) {\n    currentPage = 1;\n  }\n\n  let arr = localStorage.getItem('WATCHED_LIST_DATA_KEY');\n  let parsedArr = JSON.parse(arr);\n\n  if (!parsedArr || parsedArr.length === 0) {\n    clearMarkup();\n    paginationBox.style.display = 'none';\n    return emptyGalleryBox.classList.remove('is-hidden');\n  } else {\n    paginationBox.style.display = 'flex';\n    maxPage = Math.ceil(parsedArr.length / 20);\n    paginationMarkUp(currentPage, maxPage);\n    let startPoint = (currentPage - 1) * 20;\n    let stopPoint = (currentPage - 1) * 20 + 20;\n    const watchedArr = parsedArr.slice(startPoint, stopPoint);\n    renderLibrary(watchedArr);\n  }\n}\n\nexport function onClickQueue(modalDel) {\n  let arr = localStorage.getItem('QUEUE_LIST_DATA_KEY');\n  let parsedArr = JSON.parse(arr);\n\n  if (modalDel != 1) {\n    currentPage = 1;\n  }\n\n  if (!parsedArr || !parsedArr.length) {\n    clearMarkup();\n    paginationBox.style.display = 'none';\n    return emptyGalleryBox.classList.remove('is-hidden');\n  } else {\n    paginationBox.style.display = 'flex';\n    maxPage = Math.ceil(parsedArr.length / 20);\n    paginationMarkUp(currentPage, maxPage);\n    let startPoint = (currentPage - 1) * 20;\n    let stopPoint = (currentPage - 1) * 20 + 20;\n    const watchedArrQe = parsedArr.slice(startPoint, stopPoint);\n    renderLibrary(watchedArrQe);\n  }\n}\n\nfunction clearMarkup() {\n  libraryBox.innerHTML = '';\n}\n\npaginationBox.addEventListener('click', OnPagClick);\n\nfunction OnPagClick(evt) {\n  if (evt.target.textContent == '...') {\n    return;\n  }\n  if (evt.target.nodeName !== 'P') {\n    return;\n  }\n\n  currentPage = evt.target.textContent;\n\n  if (evt.target.textContent == '>>') {\n    currentPage = Number(targetPage.textContent) + 1;\n  }\n\n  if (evt.target.textContent == '<<') {\n    currentPage = Number(targetPage.textContent) - 1;\n  }\n\n  paginationMarkUp(currentPage, maxPage);\n  reRendering(currentPage);\n\n  // И вот тут отрисовываем карточки из массива по интексам   <<<<<-----------\n\n  function reRendering(currentPage) {\n    let startPoint = (currentPage - 1) * 20;\n    let stopPoint = (currentPage - 1) * 20 + 20;\n    watchedArray = localStorageObject('WATCHED_LIST_DATA_KEY');\n    queueArray = localStorageObject('QUEUE_LIST_DATA_KEY');\n\n    if (watchedLibBtn.classList.contains('btn-is-active')) {\n      const beforeArrey = watchedArray;\n      const watchedArr = beforeArrey.slice(startPoint, stopPoint);\n      renderLibrary(watchedArr);\n    } else {\n      const beforeArrey = queueArray;\n      const watchedArr = beforeArrey.slice(startPoint, stopPoint);\n      renderLibrary(watchedArr);\n    }\n  }\n}\n","import { checkGenresByIdModal } from './checkGenresById';\n\nimport { onClickQueue } from './local-storage';\nimport { onClickWatched } from './local-storage';\n\nimport no_image from '../images/no-image.jpg';\n\nwindow.addEventListener('scroll', () => {\n  document.documentElement.style.setProperty(\n    '--scroll-y',\n    `${window.scrollY}px`\n  );\n});\n\nfunction saveWatchedListToLocalStorage(data) {\n  localStorage.setItem('WATCHED_LIST_DATA_KEY', JSON.stringify(data));\n}\n\nfunction saveQueueListToLocalStorage(data) {\n  localStorage.setItem('QUEUE_LIST_DATA_KEY', JSON.stringify(data));\n}\n\nfunction saveWatchedListSessionStorage(data) {\n  sessionStorage.setItem('WATCHED_MODAL_DATA_KEY', JSON.stringify(data));\n}\n\nfunction saveQueueListToSessionStorage(data) {\n  sessionStorage.setItem('QUEUE_MODAL_DATA_KEY', JSON.stringify(data));\n}\n\nlet currentId;\nlet toWatchedBtn;\nlet removeWatchedBtn;\nlet toQueueBtn;\nlet removeQueueBtn;\nlet modalDel = '';\n\nconst watchedLibBtn = document.querySelector('.js-watched-lib-btn');\n\nconst cardList = document.querySelector('.js-library-gallery');\nconst backdrop = document.querySelector('.backdrop-modal');\nconst closeModalBtn = document.querySelector('.button-close');\nconst movieCard = document.querySelector('.modal-movie-card');\ncardList.addEventListener('click', event => {\n  if (event.target.nodeName === 'IMG') {\n    renderModal(event);\n  }\n});\n\nfunction localStorageObject(key) {\n  const getObjectFromLs = localStorage.getItem(key);\n  const parseObjectFromLs = JSON.parse(getObjectFromLs);\n  return parseObjectFromLs;\n}\n\nfunction sessionStorageObject(key) {\n  const getObjectFromLs = sessionStorage.getItem(key);\n  const parseObjectFromLs = JSON.parse(getObjectFromLs);\n  return parseObjectFromLs;\n}\n\nfunction openModal(event) {\n  toWatchedBtn = document.querySelector('.js-btn-to-watched');\n  removeWatchedBtn = document.querySelector('.js-btn-from-watched');\n  toQueueBtn = document.querySelector('.js-btn-to-queue');\n  removeQueueBtn = document.querySelector('.js-btn-from-queue');\n\n  currentId = +toWatchedBtn.id;\n\n  toWatchedBtn.addEventListener('click', onToWatchedBtn);\n  removeWatchedBtn.addEventListener('click', onRemoveWatchedBtn);\n\n  toQueueBtn.addEventListener('click', onToQueueBtn);\n  removeQueueBtn.addEventListener('click', onRemoveQueueBtn);\n  handlingButton();\n  closeModalBtn.addEventListener('click', closeModal);\n  backdrop.addEventListener('click', event => closeModalBackdrop(event));\n  document.addEventListener('keydown', event => closeModalEsc(event));\n    backdrop.classList.remove('is-hidden');\n    \n  setTimeout(() => {\n    backdrop.firstElementChild.classList.remove('is-hidden');\n  }, 350);\n  document.body.classList.add('modal-open');\n}\n\nfunction handlingButton() {\n  const watchedFilms = localStorageObject('WATCHED_LIST_DATA_KEY') || [];\n  const queuedFilms = localStorageObject('QUEUE_LIST_DATA_KEY') || [];\n  let alreadyWatchedExists = watchedFilms.find(item => item.id === currentId);\n  const alreadyOnQueue = queuedFilms.find(item => item.id === currentId);\n\n  if (watchedFilms.length === 0 || !alreadyWatchedExists) {\n    hide(removeWatchedBtn);\n  }\n  if (queuedFilms.length === 0 || !alreadyOnQueue) {\n    hide(removeQueueBtn);\n  }\n\n  if (alreadyWatchedExists) {\n    hide(toWatchedBtn);\n  }\n  if (alreadyOnQueue) {\n    hide(toQueueBtn);\n  }\n}\nfunction hide(button) {\n  button.style.display = 'none';\n}\n\nfunction show(button) {\n  button.style.display = '';\n}\n\nfunction onToWatchedBtn() {\n    const data = findMovieById(currentId) || findMovieByIdModal(currentId);\n    const watchedFilms = localStorageObject('WATCHED_LIST_DATA_KEY') || [] || sessionStorageObject('WATCHED_MODAL_DATA_KEY');\n    let alreadyExists = watchedFilms.find(item => item.id === currentId);\n\n    if (!alreadyExists) {  \n    watchedFilms.push(data);\n    saveWatchedListToLocalStorage(watchedFilms);\n\n    hide(toWatchedBtn);\n    show(removeWatchedBtn);\n  }\n}\n\nfunction onRemoveWatchedBtn() {\n  const data = findMovieById(currentId) || findMovieByIdModal(currentId);    \n  const watchedFilms = localStorageObject('WATCHED_LIST_DATA_KEY') || [];\n  let isExist = watchedFilms.find(item => item.id === currentId);\n\n    if (isExist) {\n    const updatedFilms = watchedFilms.filter(item => item.id !== currentId);\n    saveWatchedListToLocalStorage(updatedFilms);   \n    watchedFilms.push(data);\n    saveWatchedListSessionStorage(watchedFilms);\n\n    hide(removeWatchedBtn);\n    show(toWatchedBtn);\n  }\n\n  if (watchedLibBtn.classList.contains('btn-is-active')) {\n    onClickWatched((modalDel = 1));\n\n    hide(removeWatchedBtn);\n    show(toWatchedBtn);\n\n  } else {\n    return;\n  }\n}\n\nfunction onToQueueBtn() {\n  const data = findMovieById(currentId) || findMovieByIdModal(currentId);\n  const queuedFilms = localStorageObject('QUEUE_LIST_DATA_KEY') || [] || sessionStorageObject('QUEUE_MODAL_DATA_KEY');\n  const alreadyOnQueue = queuedFilms.find(item => item.id === currentId);\n\n  if (!alreadyOnQueue) {\n    queuedFilms.push(data);\n    saveQueueListToLocalStorage(queuedFilms);\n\n    hide(toQueueBtn);\n    show(removeQueueBtn);\n  }\n}\n\nfunction onRemoveQueueBtn() {\n  const data = findMovieById(currentId) || findMovieByIdModal(currentId);\n  const queuedFilms = localStorageObject('QUEUE_LIST_DATA_KEY') || [];\n  const isExist = queuedFilms.find(item => item.id === currentId);\n\n    if (isExist) {    \n    const updatedFilms = queuedFilms.filter(item => item.id !== currentId);\n        saveQueueListToLocalStorage(updatedFilms);\n        queuedFilms.push(data);\n    saveQueueListToSessionStorage(queuedFilms);\n\n    hide(removeQueueBtn);\n    show(toQueueBtn);\n  }\n\n  if (watchedLibBtn.classList.contains('btn-is-active')) {\n    return;\n  } else {\n    onClickQueue((modalDel = 1));\n\n    hide(removeQueueBtn);\n    show(toQueueBtn);\n  }\n}\n\nfunction closeModal(event) {\n  backdrop.classList.add('is-hidden');\n  backdrop.firstElementChild.classList.remove('is-hidden');\n  closeModalBtn.removeEventListener('click', closeModal);\n  backdrop.removeEventListener('click', closeModal);\n  document.removeEventListener('keydown', event => closeModalEsc(event));\n  document.body.classList.remove('modal-open');\n  backdrop.style.background = '';\n\n  const body = document.body;\n  const scrollY = body.style.top;\n  body.style.position = '';\n  body.style.top = '';\n  window.scrollTo(0, parseInt(scrollY || '0') * -1);\n}\n\nfunction closeModalBackdrop(event) {\n  if (event.target.classList.value !== 'backdrop-modal') {\n    return;\n  }\n  closeModal();\n}\nfunction closeModalEsc(event) {\n  if (event.key !== 'Escape') {\n    return;\n  }\n  closeModal();\n}\n\nconst renderModal = event => {\n  const scrollY = document.documentElement.style.getPropertyValue('--scroll-y');\n  const body = document.body;\n  body.style.position = 'fixed';\n  body.style.top = `-${scrollY}`;\n\n  const cardId = event.target.closest('li');\n  const idMovie = cardId.id;\n  const data = findMovieById(idMovie);\n  if (data) {\n    currentId = data.id;\n    renderMovieCard(data);\n    openModal(event);\n  }\n};\n\nfunction findMovieById(idMovie) {\n  if (watchedLibBtn.classList.contains('btn-is-active')) {\n    const savedTrendingFilms = localStorage.getItem('WATCHED_LIST_DATA_KEY');\n    const arrayMovies = JSON.parse(savedTrendingFilms);\n    const data = arrayMovies.find(arr => arr.id === Number(idMovie));\n    return data;\n  } else {\n    const savedTrendingFilms = localStorage.getItem('QUEUE_LIST_DATA_KEY');\n    const arrayMovies = JSON.parse(savedTrendingFilms);\n    const data = arrayMovies.find(arr => arr.id === Number(idMovie));\n    return data;\n  }\n}\n\nfunction findMovieByIdModal(idMovie) {\n    if (watchedLibBtn.classList.contains('btn-is-active')) {\n        const savedTrendingFilms = sessionStorage.getItem('WATCHED_MODAL_DATA_KEY');\n        const arrayMovies = JSON.parse(savedTrendingFilms);\n        const data = arrayMovies.find(arr => arr.id === Number(idMovie));\n        return data;\n    } else {\n        const savedTrendingFilms = sessionStorage.getItem('QUEUE_MODAL_DATA_KEY');\n        const arrayMovies = JSON.parse(savedTrendingFilms);\n        const data = arrayMovies.find(arr => arr.id === Number(idMovie));\n        return data;\n    }\n}\n\n\nfunction renderMovieCard(obj) {\n  const backdropImage = obj.backdrop_path;\n  if (backdropImage !== null) {\n    const background = `https://image.tmdb.org/t/p/original/${obj.backdrop_path}`;\n    backdrop.style.backgroundImage = `url('${background}')`;\n    backdrop.style.backgroundSize = 'cover';\n    backdrop.style.backgroundPosition = '50% 50%';\n  }\n  mark(obj);\n}\n\nfunction mark(obj) {\n  const START_URL = 'https://image.tmdb.org/t/p/w500';\n  let posterSrc = '';\n  if (obj.poster_path) {\n    posterSrc = `${START_URL}${obj.poster_path}`;\n  } else {\n    posterSrc = no_image;\n  }\n\n  const markup = `\n      <div class='modal-movie-card__wrappe-img'>\n                <img id=\"${\n                  obj.id\n                }\" class=\"modal-movie-card__image\" src=\"${posterSrc}\" alt=\"${\n    obj.title || obj.name\n  }\" />\n            </div>\n            <div class='modal-movie-data'>\n                <h2 class='modal-movie-data__title'>${\n                  obj.title || obj.name\n                }</h2>\n            <table class='modal-movie-data-table'>\n                <tr class='modal-movie-data-table__row'>\n                    <td>\n                        <p class='modal-movie-data__attribute'>Vote / Votes</p>\n                    </td>\n                    <td>\n                        <p><span class='modal-movie-data__vote'>${obj.vote_average.toFixed(\n                          1\n                        )}</span> / ${obj.vote_count}</p>\n                    </td>\n                </tr>\n                <tr class='modal-movie-data-table__row'>\n                    <td>\n                        <p>Popularity</p>\n                    </td>\n                    <td>\n                        <p>${obj.popularity.toFixed(1)}</p>\n                    </td>\n                </tr>\n                <tr class='modal-movie-data-table__row'>\n                    <td>\n                        <p>Original Title</p>\n                    </td>\n                    <td>\n                        <p>${obj.original_title}</p>\n                    </td>\n                </tr>\n                <tr class='modal-movie-data-table__row'>\n                    <td>\n                        <p>Genre</p>\n                    </td>\n                    <td>\n                        <p>${checkGenresByIdModal(obj)}</p>\n                    </td>\n                </tr>\n            </table>\n            <h3 class='modal-movie-data__about_title'>About</h3>\n            <p class='modal-movie-data__about'>${obj.overview}</p>\n            <ul class='modal-movie-data__btn-list'>\n                <li class='modal-movie-data__btn-item'  >\n                    <button id='${\n                      obj.id\n                    }' class='modal-movie-data__btn modal-movie-data__btn-watched js-btn-to-watched' type='button' data-action='${\n    obj.id\n  }'   >\n                        ADD TO WATCHED\n                    </button>\n                    <button  id='${\n                      obj.id\n                    }' class='modal-movie-data__btn modal-movie-data__btn-watched active js-btn-from-watched' type='button' data-action='${\n    obj.id\n  }'>\n                        REMOVE FROM WATCHED\n                    </button>\n                </li>\n                <li class='modal-movie-data__button-item' >\n                    <button  id='${\n                      obj.id\n                    }' class='modal-movie-data__btn modal-movie-data__btn-queue js-btn-to-queue' type='button' data-action='${\n    obj.id\n  }'>\n                        ADD TO QUEUE\n                    </button>\n                    <button id='${\n                      obj.id\n                    }' class='modal-movie-data__btn modal-movie-data__btn-queue active js-btn-from-queue' type='button' data-action='${\n    obj.id\n  }'>\n                        REMOVE FROM QUEUE\n                    </button>\n                </li>\n            </ul>\n            <div class=\"trailer-btn-wrapper\">\n            <button  id='${\n              obj.id\n            }' class='trailer-btn' type='button' data-action='${obj.id}'>\n                        watch trailer\n                    </button>\n            </div>\n            </div>`;\n  movieCard.innerHTML = markup;\n}\n\n\n\n\n    \n\n\n"],"names":["parcelRequire","register","JSON","parse","$46cee9b60252fd1e$exports","URL","resolve","import","meta","url","toString","$8125d1701b78b442$var$watchedLibBtn","document","querySelector","$8125d1701b78b442$var$queueLibBtn","$8125d1701b78b442$var$libraryBox","$8125d1701b78b442$var$emptyGalleryBox","$8125d1701b78b442$var$paginationBox","$8125d1701b78b442$var$currentPage","$8125d1701b78b442$var$maxPage","$8125d1701b78b442$var$localStorageObject","key","getObjectFromLs","localStorage","getItem","parseObjectFromLs","Math","ceil","length","$2nhTy","paginationMarkUp","classList","remove","window","addEventListener","setTimeout","click","$8125d1701b78b442$var$watchedArray","$8125d1701b78b442$var$queueArray","$8125d1701b78b442$export$e7d1a4959038c5e5","arrayMovies","$8125d1701b78b442$var$clearMarkup","libraryMarkup","map","obj","$hielw","checkGenresById","posterSrc","poster_path","$parcel$interopDefault","id","title","name","release_date","slice","first_air_date","vote_average","toFixed","join","insertAdjacentHTML","$8125d1701b78b442$export$2c57f17591d231ce","modalDel","add","arr","parsedArr","style","display","startPoint","stopPoint","$8125d1701b78b442$export$ac55bd7e11afc2c2","innerHTML","evt","target","textContent","nodeName","Number","targetPage","currentPage1","contains","reRendering","$0508b4a4ad4281e2$var$saveWatchedListToLocalStorage","data","setItem","stringify","$0508b4a4ad4281e2$var$saveQueueListToLocalStorage","$0508b4a4ad4281e2$var$currentId","$0508b4a4ad4281e2$var$toWatchedBtn","$0508b4a4ad4281e2$var$removeWatchedBtn","$0508b4a4ad4281e2$var$toQueueBtn","$0508b4a4ad4281e2$var$removeQueueBtn","documentElement","setProperty","scrollY","$0508b4a4ad4281e2$var$modalDel","$0508b4a4ad4281e2$var$watchedLibBtn","$0508b4a4ad4281e2$var$cardList","$0508b4a4ad4281e2$var$backdrop","$0508b4a4ad4281e2$var$closeModalBtn","$0508b4a4ad4281e2$var$movieCard","$0508b4a4ad4281e2$var$localStorageObject","$0508b4a4ad4281e2$var$openModal","event1","$0508b4a4ad4281e2$var$onToWatchedBtn","$0508b4a4ad4281e2$var$onRemoveWatchedBtn","$0508b4a4ad4281e2$var$onToQueueBtn","$0508b4a4ad4281e2$var$onRemoveQueueBtn","watchedFilms","queuedFilms","alreadyWatchedExists","find","item","alreadyOnQueue","$0508b4a4ad4281e2$var$hide","$0508b4a4ad4281e2$var$handlingButton","$0508b4a4ad4281e2$var$closeModal","event","value","$0508b4a4ad4281e2$var$closeModalBackdrop","$0508b4a4ad4281e2$var$closeModalEsc","firstElementChild","body","button","$0508b4a4ad4281e2$var$show","$0508b4a4ad4281e2$var$findMovieById","$0508b4a4ad4281e2$var$findMovieByIdModal","push","filter","sessionStorage","$0508b4a4ad4281e2$var$saveWatchedListSessionStorage","$0508b4a4ad4281e2$var$saveQueueListToSessionStorage","event2","removeEventListener","background","top","position","scrollTo","parseInt","$0508b4a4ad4281e2$var$renderModal","getPropertyValue","closest","backdrop_path","backgroundImage","backgroundSize","backgroundPosition","START_URL","markup","vote_count","popularity","original_title","checkGenresByIdModal","overview","$0508b4a4ad4281e2$var$mark","$0508b4a4ad4281e2$var$renderMovieCard","idMovie","savedTrendingFilms"],"version":3,"file":"gallery.4c294f12.js.map"}