function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},a=e.parcelRequired7c6;null==a&&((a=function(t){if(t in n)return n[t].exports;if(t in i){var e=i[t];delete i[t];var a={id:t,exports:{}};return n[t]=a,e.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){i[t]=e},e.parcelRequired7c6=a),a("kyEFX").register(JSON.parse('{"T57zD":"gallery.e66ef986.js","bNA7a":"no-image.0b269193.jpg","iH3o9":"gallery.bf41280d.js"}')),a("ioBS9"),a("6HA5D");var o;o=new URL(a("kyEFX").resolve("bNA7a"),import.meta.url).toString();var s=a("hielw");const d=document.querySelector(".js-watched-lib-btn"),c=document.querySelector(".js-queue-lib-btn"),r=document.querySelector(".js-library-gallery"),l=document.querySelector(".info-notify-box");document.querySelector(".info-notify-text");function u(t){const e=localStorage.getItem(t);return JSON.parse(e)}const m=u("WATCHED_LIST_DATA_KEY");u("QUEUE_LIST_DATA_KEY");function _(e){if(!e||!e.length)return b(),l.classList.remove("is-hidden");const n=e.map((e=>{b(),(0,s.checkGenresById)(e);let n="";return n=e.poster_path?`https://image.tmdb.org/t/p/w500${e.poster_path}`:t(o),` <li class="card-wraper" id="${e.id}">\n       <a class="card-wraper_link" href="#"><img class="card-img" src="${n}" alt="${e.title||e.name}"/></a>\n       <div class="card-title">${e.title||e.name}</div>\n      <div class="wraper">\n         <div class="card-genre-wraper">\n           <div class="card-genre">${(0,s.checkGenresById)(e)}</div>\n         </div>\n         <div class="card-year">\n\n         ${e.release_date.slice(0,4)||e.first_air_date.slice(0,4)||""}\n\n         </div>\n         <div class="card-rating-wraper"><div class="card-rating">${e.vote_average.toFixed(1)}</div></div>\n       </div>\n     </li>`})).join("");r.insertAdjacentHTML("beforeend",n)}function p(){d.classList.add("btn-is-active"),c.classList.remove("btn-is-active"),l.classList.add("is-hidden");const t=localStorage.getItem("WATCHED_LIST_DATA_KEY");_(JSON.parse(t))}function v(){l.classList.add("is-hidden"),c.classList.add("btn-is-active"),d.classList.remove("btn-is-active");const t=localStorage.getItem("QUEUE_LIST_DATA_KEY");_(JSON.parse(t))}function b(){r.innerHTML=""}_(m),d.classList.add("btn-is-active"),d.addEventListener("click",p),c.addEventListener("click",v),a("lAhPt");s=a("hielw");function f(t){localStorage.setItem("WATCHED_LIST_DATA_KEY",JSON.stringify(t))}function E(t){localStorage.setItem("QUEUE_LIST_DATA_KEY",JSON.stringify(t))}let g,y,A,S,L;window.addEventListener("scroll",(()=>{document.documentElement.style.setProperty("--scroll-y",`${window.scrollY}px`)}));const T=document.querySelector(".js-watched-lib-btn"),h=document.querySelector(".js-library-gallery"),D=document.querySelector(".backdrop-modal"),w=document.querySelector(".button-close"),$=document.querySelector(".modal-movie-card");function I(t){const e=localStorage.getItem(t);return JSON.parse(e)}function k(t){y=document.querySelector(".js-btn-to-watched"),A=document.querySelector(".js-btn-from-watched"),S=document.querySelector(".js-btn-to-queue"),L=document.querySelector(".js-btn-from-queue"),g=+y.id,y.addEventListener("click",q),A.addEventListener("click",H),S.addEventListener("click",N),L.addEventListener("click",K),function(){const t=I("WATCHED_LIST_DATA_KEY")||[],e=I("QUEUE_LIST_DATA_KEY")||[];let n=t.find((t=>t.id===g));const i=e.find((t=>t.id===g));0!==t.length&&n||O(A);0!==e.length&&i||O(L);n&&O(y);i&&O(S)}(),w.addEventListener("click",Y),D.addEventListener("click",(t=>function(t){if("backdrop-modal"!==t.target.classList.value)return;Y()}(t))),document.addEventListener("keydown",(t=>j(t))),D.classList.remove("is-hidden"),setTimeout((()=>{D.firstElementChild.classList.remove("is-hidden")}),350),document.body.classList.add("modal-open")}function O(t){t.style.display="none"}function U(t){t.style.display=""}function q(){const t=C(g)||J(g),e=I("WATCHED_LIST_DATA_KEY")||[];e.find((t=>t.id===g))||(e.push(t),f(e),O(y),U(A))}function H(){const t=C(g)||J(g),e=I("WATCHED_LIST_DATA_KEY")||[];if(e.find((t=>t.id===g))){f(e.filter((t=>t.id!==g))),e.push(t),function(t){sessionStorage.setItem("WATCHED_MODAL_DATA_KEY",JSON.stringify(t))}(e),O(A),U(y)}T.classList.contains("btn-is-active")&&(p(),O(A),U(y))}function N(){const t=C(g)||J(g),e=I("QUEUE_LIST_DATA_KEY")||[];e.find((t=>t.id===g))||(e.push(t),E(e),O(S),U(L))}function K(){const t=C(g)||J(g),e=I("QUEUE_LIST_DATA_KEY")||[];if(e.find((t=>t.id===g))){E(e.filter((t=>t.id!==g))),e.push(t),function(t){sessionStorage.setItem("QUEUE_MODAL_DATA_KEY",JSON.stringify(t))}(e),O(L),U(S)}T.classList.contains("btn-is-active")||(v(),O(L),U(S))}function Y(t){D.classList.add("is-hidden"),D.firstElementChild.classList.remove("is-hidden"),w.removeEventListener("click",Y),D.removeEventListener("click",Y),document.removeEventListener("keydown",(t=>j(t))),document.body.classList.remove("modal-open"),D.style.background="";const e=document.body,n=e.style.top;e.style.position="",e.style.top="",window.scrollTo(0,-1*parseInt(n||"0"))}function j(t){"Escape"===t.key&&Y()}h.addEventListener("click",(t=>{"IMG"===t.target.nodeName&&M(t)}));const M=e=>{const n=document.documentElement.style.getPropertyValue("--scroll-y"),i=document.body;i.style.position="fixed",i.style.top=`-${n}`;const a=C(e.target.closest("li").id);a&&(g=a.id,function(e){if(null!==e.backdrop_path){const t=`https://image.tmdb.org/t/p/original/${e.backdrop_path}`;D.style.backgroundImage=`url('${t}')`,D.style.backgroundSize="cover",D.style.backgroundPosition="50% 50%"}!function(e){const n="https://image.tmdb.org/t/p/w500";let i="";i=e.poster_path?`${n}${e.poster_path}`:t(o);const a=`\n      <div class='modal-movie-card__wrappe-img'>\n                <img id="${e.id}" class="modal-movie-card__image" src="${i}" alt="${e.title||e.name}" />\n            </div>\n            <div class='modal-movie-data'>\n                <h2 class='modal-movie-data__title'>${e.title||e.name}</h2>\n            <table class='modal-movie-data-table'>\n                <tr class='modal-movie-data-table__row'>\n                    <td>\n                        <p class='modal-movie-data__attribute'>Vote / Votes</p>\n                    </td>\n                    <td>\n                        <p><span class='modal-movie-data__vote'>${e.vote_average.toFixed(1)}</span> / ${e.vote_count}</p>\n                    </td>\n                </tr>\n                <tr class='modal-movie-data-table__row'>\n                    <td>\n                        <p>Popularity</p>\n                    </td>\n                    <td>\n                        <p>${e.popularity.toFixed(1)}</p>\n                    </td>\n                </tr>\n                <tr class='modal-movie-data-table__row'>\n                    <td>\n                        <p>Original Title</p>\n                    </td>\n                    <td>\n                        <p>${e.original_title}</p>\n                    </td>\n                </tr>\n                <tr class='modal-movie-data-table__row'>\n                    <td>\n                        <p>Genre</p>\n                    </td>\n                    <td>\n                        <p>${(0,s.checkGenresByIdModal)(e)}</p>\n                    </td>\n                </tr>\n            </table>\n            <h3 class='modal-movie-data__about_title'>About</h3>\n            <p class='modal-movie-data__about'>${e.overview}</p>\n            <ul class='modal-movie-data__btn-list'>\n                <li class='modal-movie-data__btn-item'  >\n                    <button id='${e.id}' class='modal-movie-data__btn modal-movie-data__btn-watched js-btn-to-watched' type='button' data-action='${e.id}'   >\n                        ADD TO WATCHED\n                    </button>\n                    <button  id='${e.id}' class='modal-movie-data__btn modal-movie-data__btn-watched active js-btn-from-watched' type='button' data-action='${e.id}'>\n                        REMOVE FROM WATCHED\n                    </button>\n                </li>\n                <li class='modal-movie-data__button-item' >\n                    <button  id='${e.id}' class='modal-movie-data__btn modal-movie-data__btn-queue js-btn-to-queue' type='button' data-action='${e.id}'>\n                        ADD TO QUEUE\n                    </button>\n                    <button id='${e.id}' class='modal-movie-data__btn modal-movie-data__btn-queue active js-btn-from-queue' type='button' data-action='${e.id}'>\n                        REMOVE FROM QUEUE\n                    </button>\n                </li>\n            </ul>\n            <div class="trailer-btn-wrapper">\n            <button  id='${e.id}' class='trailer-btn' type='button' data-action='${e.id}'>\n                        watch trailer\n                    </button>\n            </div>\n            </div>`;$.innerHTML=a}(e)}(a),k())};function C(t){if(T.classList.contains("btn-is-active")){const e=localStorage.getItem("WATCHED_LIST_DATA_KEY");return JSON.parse(e).find((e=>e.id===Number(t)))}{const e=localStorage.getItem("QUEUE_LIST_DATA_KEY");return JSON.parse(e).find((e=>e.id===Number(t)))}}function J(t){if(T.classList.contains("btn-is-active")){const e=sessionStorage.getItem("WATCHED_MODAL_DATA_KEY");return JSON.parse(e).find((e=>e.id===Number(t)))}{const e=sessionStorage.getItem("QUEUE_MODAL_DATA_KEY");return JSON.parse(e).find((e=>e.id===Number(t)))}}a("eDoKO");
//# sourceMappingURL=gallery.e66ef986.js.map
