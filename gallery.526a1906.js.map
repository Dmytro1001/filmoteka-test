{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-9a4a0a4b5afa0785.js","src/gallery.js","node_modules/@parcel/runtime-js/lib/runtime-e4b0789cd9ede7a0.js","src/js/local-storage.js","src/js/modalMovieLibrarySS.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"euV2r\\\":\\\"gallery.526a1906.js\\\",\\\"buPbL\\\":\\\"no-image.0b269193.jpg\\\",\\\"6teei\\\":\\\"gallery.86079c34.js\\\"}\"));","import './js/preloader';\nimport './js/footer-modal';\nimport './js/local-storage';\nimport './js/dark-light';\n// import './js/modalMovieLibrary';\nimport './js/modalMovieLibrarySS';\nimport './js/showing-trailer';\n","module.exports = require('./helpers/bundle-url').getBundleURL('euV2r') + require('./helpers/bundle-manifest').resolve(\"buPbL\");","import no_image from '../images/no-image.jpg';\nimport { checkGenresById } from './checkGenresById.js';\n\nconst watchedLibBtn = document.querySelector('.js-watched-lib-btn');\nconst queueLibBtn = document.querySelector('.js-queue-lib-btn');\nconst libraryBox = document.querySelector('.js-library-gallery');\nconst emptyGalleryBox = document.querySelector('.info-notify-box');\nconst emptyGalleryText = document.querySelector('.info-notify-text');\n\n// Функція розпарсить об'єкти з localStorage\nfunction localStorageObject(key) {\n  const getObjectFromLs = localStorage.getItem(key);\n  const parseObjectFromLs = JSON.parse(getObjectFromLs);\n  // console.log(parseObjectFromLs);\n\n  return parseObjectFromLs;\n}\n\n// ключі від localStorage\nconst watchedArray = localStorageObject('WATCHED_LIST_DATA_KEY');\nconst queueArray = localStorageObject('QUEUE_LIST_DATA_KEY');\n\n// Рендерить розмітку у бібліотеці по дефолту\nrenderLibrary(watchedArray);\nwatchedLibBtn.classList.add('btn-is-active');\n\n// Функція для рендуру розмітки\nexport function renderLibrary(arrayMovies) {\n  if (!arrayMovies || !arrayMovies.length) {\n    clearMarkup();\n    return emptyGalleryBox.classList.remove('is-hidden');\n  }\n\n  const markupOneCard = obj => {\n    clearMarkup();\n    checkGenresById(obj);\n\n    let posterSrc = '';\n    if (obj.poster_path) {\n      posterSrc = `https://image.tmdb.org/t/p/w500${obj.poster_path}`;\n    } else {\n      posterSrc = no_image;\n    }\n\n    return ` <li class=\"card-wraper\" id=\"${obj.id}\">\n       <a class=\"card-wraper_link\" href=\"#\"><img class=\"card-img\" src=\"${posterSrc}\" alt=\"${\n      obj.title || obj.name\n    }\"/></a>\n       <div class=\"card-title\">${obj.title || obj.name}</div>\n      <div class=\"wraper\">\n         <div class=\"card-genre-wraper\">\n           <div class=\"card-genre\">${checkGenresById(obj)}</div>\n         </div>\n         <div class=\"card-year\">\n\n         ${obj.release_date.slice(0, 4) || obj.first_air_date.slice(0, 4) || ''}\n\n         </div>\n         <div class=\"card-rating-wraper\"><div class=\"card-rating\">${obj.vote_average.toFixed(\n           1\n         )}</div></div>\n       </div>\n     </li>`;\n  };\n\n  const libraryMarkup = arrayMovies.map(markupOneCard).join('');\n  libraryBox.insertAdjacentHTML('beforeend', libraryMarkup);\n}\n\nwatchedLibBtn.addEventListener('click', onClickWatched);\nqueueLibBtn.addEventListener('click', onClickQueue);\n\nexport function onClickWatched() {\n  watchedLibBtn.classList.add('btn-is-active');\n  queueLibBtn.classList.remove('btn-is-active');\n  emptyGalleryBox.classList.add('is-hidden');\n\n  const getObjectFromLs = localStorage.getItem('WATCHED_LIST_DATA_KEY');\n  const parseObjectFromLs = JSON.parse(getObjectFromLs);\n  renderLibrary(parseObjectFromLs);\n}\n\nexport function onClickQueue() {\n  emptyGalleryBox.classList.add('is-hidden');\n  queueLibBtn.classList.add('btn-is-active');\n  watchedLibBtn.classList.remove('btn-is-active');\n\n  const getObjectFromLs = localStorage.getItem('QUEUE_LIST_DATA_KEY');\n  const parseObjectFromLs = JSON.parse(getObjectFromLs);\n  renderLibrary(parseObjectFromLs);\n}\n\nfunction clearMarkup() {\n  libraryBox.innerHTML = '';\n}\n","import { checkGenresByIdModal } from './checkGenresById';\n\nimport { onClickQueue } from './local-storage';\nimport { onClickWatched } from './local-storage';\n\nimport no_image from '../images/no-image.jpg';\n\nwindow.addEventListener('scroll', () => {\n  document.documentElement.style.setProperty(\n    '--scroll-y',\n    `${window.scrollY}px`\n  );\n});\n\nfunction saveWatchedListToLocalStorage(data) {\n  localStorage.setItem('WATCHED_LIST_DATA_KEY', JSON.stringify(data));\n}\n\nfunction saveQueueListToLocalStorage(data) {\n  localStorage.setItem('QUEUE_LIST_DATA_KEY', JSON.stringify(data));\n}\n\nfunction saveWatchedListSessionStorage(data) {\n  sessionStorage.setItem('WATCHED_MODAL_DATA_KEY', JSON.stringify(data));\n}\n\nfunction saveQueueListToSessionStorage(data) {\n  sessionStorage.setItem('QUEUE_MODAL_DATA_KEY', JSON.stringify(data));\n}\n\nlet currentId;\nlet toWatchedBtn;\nlet removeWatchedBtn;\nlet toQueueBtn;\nlet removeQueueBtn;\n\nconst watchedLibBtn = document.querySelector('.js-watched-lib-btn');\n\nconst cardList = document.querySelector('.js-library-gallery');\nconst backdrop = document.querySelector('.backdrop-modal');\nconst closeModalBtn = document.querySelector('.button-close');\nconst movieCard = document.querySelector('.modal-movie-card');\ncardList.addEventListener('click', event => {\n  if (event.target.nodeName === 'IMG') {\n    renderModal(event);\n  }\n});\n\nfunction localStorageObject(key) {\n  const getObjectFromLs = localStorage.getItem(key);\n  const parseObjectFromLs = JSON.parse(getObjectFromLs);\n  return parseObjectFromLs;\n}\n\nfunction sessionStorageObject(key) {\n  const getObjectFromLs = sessionStorage.getItem(key);\n  const parseObjectFromLs = JSON.parse(getObjectFromLs);\n  return parseObjectFromLs;\n}\n\nfunction openModal(event) {\n  toWatchedBtn = document.querySelector('.js-btn-to-watched');\n  removeWatchedBtn = document.querySelector('.js-btn-from-watched');\n  toQueueBtn = document.querySelector('.js-btn-to-queue');\n  removeQueueBtn = document.querySelector('.js-btn-from-queue');\n\n  currentId = +toWatchedBtn.id;\n\n  toWatchedBtn.addEventListener('click', onToWatchedBtn);\n  removeWatchedBtn.addEventListener('click', onRemoveWatchedBtn);\n\n  toQueueBtn.addEventListener('click', onToQueueBtn);\n  removeQueueBtn.addEventListener('click', onRemoveQueueBtn);\n  handlingButton();\n  closeModalBtn.addEventListener('click', closeModal);\n  backdrop.addEventListener('click', event => closeModalBackdrop(event));\n  document.addEventListener('keydown', event => closeModalEsc(event));\n    backdrop.classList.remove('is-hidden');\n    \n  setTimeout(() => {\n    backdrop.firstElementChild.classList.remove('is-hidden');\n  }, 350);\n  document.body.classList.add('modal-open');\n}\n\nfunction handlingButton() {\n  const watchedFilms = localStorageObject('WATCHED_LIST_DATA_KEY') || [];\n  const queuedFilms = localStorageObject('QUEUE_LIST_DATA_KEY') || [];\n  let alreadyWatchedExists = watchedFilms.find(item => item.id === currentId);\n  const alreadyOnQueue = queuedFilms.find(item => item.id === currentId);\n\n  if (watchedFilms.length === 0 || !alreadyWatchedExists) {\n    hide(removeWatchedBtn);\n  }\n  if (queuedFilms.length === 0 || !alreadyOnQueue) {\n    hide(removeQueueBtn);\n  }\n\n  if (alreadyWatchedExists) {\n    hide(toWatchedBtn);\n  }\n  if (alreadyOnQueue) {\n    hide(toQueueBtn);\n  }\n}\nfunction hide(button) {\n  button.style.display = 'none';\n}\n\nfunction show(button) {\n  button.style.display = '';\n}\n\nfunction onToWatchedBtn() {\n    const data = findMovieById(currentId) || findMovieByIdModal(currentId);\n    const watchedFilms = localStorageObject('WATCHED_LIST_DATA_KEY') || [] || sessionStorageObject('WATCHED_MODAL_DATA_KEY');\n    let alreadyExists = watchedFilms.find(item => item.id === currentId);\n\n    if (!alreadyExists) {  \n    watchedFilms.push(data);\n    saveWatchedListToLocalStorage(watchedFilms);\n\n    hide(toWatchedBtn);\n    show(removeWatchedBtn);\n  }\n}\n\nfunction onRemoveWatchedBtn() {\n  const data = findMovieById(currentId) || findMovieByIdModal(currentId);    \n  const watchedFilms = localStorageObject('WATCHED_LIST_DATA_KEY') || [];\n  let isExist = watchedFilms.find(item => item.id === currentId);\n\n    if (isExist) {\n    const updatedFilms = watchedFilms.filter(item => item.id !== currentId);\n    saveWatchedListToLocalStorage(updatedFilms);   \n    watchedFilms.push(data);\n    saveWatchedListSessionStorage(watchedFilms);\n\n    hide(removeWatchedBtn);\n    show(toWatchedBtn);\n  }\n\n  if (watchedLibBtn.classList.contains('btn-is-active')) {\n    onClickWatched();\n\n    hide(removeWatchedBtn);\n    show(toWatchedBtn);\n\n  } else {\n    return;\n  }\n}\n\nfunction onToQueueBtn() {\n  const data = findMovieById(currentId) || findMovieByIdModal(currentId);\n  const queuedFilms = localStorageObject('QUEUE_LIST_DATA_KEY') || [] || sessionStorageObject('QUEUE_MODAL_DATA_KEY');\n  const alreadyOnQueue = queuedFilms.find(item => item.id === currentId);\n\n  if (!alreadyOnQueue) {\n    queuedFilms.push(data);\n    saveQueueListToLocalStorage(queuedFilms);\n\n    hide(toQueueBtn);\n    show(removeQueueBtn);\n  }\n}\n\nfunction onRemoveQueueBtn() {\n  const data = findMovieById(currentId) || findMovieByIdModal(currentId);\n  const queuedFilms = localStorageObject('QUEUE_LIST_DATA_KEY') || [];\n  const isExist = queuedFilms.find(item => item.id === currentId);\n\n    if (isExist) {    \n    const updatedFilms = queuedFilms.filter(item => item.id !== currentId);\n        saveQueueListToLocalStorage(updatedFilms);\n        queuedFilms.push(data);\n    saveQueueListToSessionStorage(queuedFilms);\n\n    hide(removeQueueBtn);\n    show(toQueueBtn);\n  }\n\n  if (watchedLibBtn.classList.contains('btn-is-active')) {\n    return;\n  } else {\n    onClickQueue();\n\n    hide(removeQueueBtn);\n    show(toQueueBtn);\n  }\n}\n\nfunction closeModal(event) {\n  backdrop.classList.add('is-hidden');\n  backdrop.firstElementChild.classList.remove('is-hidden');\n  closeModalBtn.removeEventListener('click', closeModal);\n  backdrop.removeEventListener('click', closeModal);\n  document.removeEventListener('keydown', event => closeModalEsc(event));\n  document.body.classList.remove('modal-open');\n  backdrop.style.background = '';\n\n  const body = document.body;\n  const scrollY = body.style.top;\n  body.style.position = '';\n  body.style.top = '';\n  window.scrollTo(0, parseInt(scrollY || '0') * -1);\n}\n\nfunction closeModalBackdrop(event) {\n  if (event.target.classList.value !== 'backdrop-modal') {\n    return;\n  }\n  closeModal();\n}\nfunction closeModalEsc(event) {\n  if (event.key !== 'Escape') {\n    return;\n  }\n  closeModal();\n}\n\nconst renderModal = event => {\n  const scrollY = document.documentElement.style.getPropertyValue('--scroll-y');\n  const body = document.body;\n  body.style.position = 'fixed';\n  body.style.top = `-${scrollY}`;\n\n  const cardId = event.target.closest('li');\n  const idMovie = cardId.id;\n  const data = findMovieById(idMovie);\n  if (data) {\n    currentId = data.id;\n    renderMovieCard(data);\n    openModal(event);\n  }\n};\n\nfunction findMovieById(idMovie) {\n  if (watchedLibBtn.classList.contains('btn-is-active')) {\n    const savedTrendingFilms = localStorage.getItem('WATCHED_LIST_DATA_KEY');\n    const arrayMovies = JSON.parse(savedTrendingFilms);\n    const data = arrayMovies.find(arr => arr.id === Number(idMovie));\n    return data;\n  } else {\n    const savedTrendingFilms = localStorage.getItem('QUEUE_LIST_DATA_KEY');\n    const arrayMovies = JSON.parse(savedTrendingFilms);\n    const data = arrayMovies.find(arr => arr.id === Number(idMovie));\n    return data;\n  }\n}\n\nfunction findMovieByIdModal(idMovie) {\n    if (watchedLibBtn.classList.contains('btn-is-active')) {\n        const savedTrendingFilms = sessionStorage.getItem('WATCHED_MODAL_DATA_KEY');\n        const arrayMovies = JSON.parse(savedTrendingFilms);\n        const data = arrayMovies.find(arr => arr.id === Number(idMovie));\n        return data;\n    } else {\n        const savedTrendingFilms = sessionStorage.getItem('QUEUE_MODAL_DATA_KEY');\n        const arrayMovies = JSON.parse(savedTrendingFilms);\n        const data = arrayMovies.find(arr => arr.id === Number(idMovie));\n        return data;\n    }\n}\n\n\nfunction renderMovieCard(obj) {\n  const backdropImage = obj.backdrop_path;\n  if (backdropImage !== null) {\n    const background = `https://image.tmdb.org/t/p/original/${obj.backdrop_path}`;\n    backdrop.style.backgroundImage = `url('${background}')`;\n    backdrop.style.backgroundSize = 'cover';\n    backdrop.style.backgroundPosition = '50% 50%';\n  }\n  mark(obj);\n}\n\nfunction mark(obj) {\n  const START_URL = 'https://image.tmdb.org/t/p/w500';\n  let posterSrc = '';\n  if (obj.poster_path) {\n    posterSrc = `${START_URL}${obj.poster_path}`;\n  } else {\n    posterSrc = no_image;\n  }\n\n  const markup = `\n      <div class='modal-movie-card__wrappe-img'>\n                <img id=\"${\n                  obj.id\n                }\" class=\"modal-movie-card__image\" src=\"${posterSrc}\" alt=\"${\n    obj.title || obj.name\n  }\" />\n            </div>\n            <div class='modal-movie-data'>\n                <h2 class='modal-movie-data__title'>${\n                  obj.title || obj.name\n                }</h2>\n            <table class='modal-movie-data-table'>\n                <tr class='modal-movie-data-table__row'>\n                    <td>\n                        <p class='modal-movie-data__attribute'>Vote / Votes</p>\n                    </td>\n                    <td>\n                        <p><span class='modal-movie-data__vote'>${obj.vote_average.toFixed(\n                          1\n                        )}</span> / ${obj.vote_count}</p>\n                    </td>\n                </tr>\n                <tr class='modal-movie-data-table__row'>\n                    <td>\n                        <p>Popularity</p>\n                    </td>\n                    <td>\n                        <p>${obj.popularity.toFixed(1)}</p>\n                    </td>\n                </tr>\n                <tr class='modal-movie-data-table__row'>\n                    <td>\n                        <p>Original Title</p>\n                    </td>\n                    <td>\n                        <p>${obj.original_title}</p>\n                    </td>\n                </tr>\n                <tr class='modal-movie-data-table__row'>\n                    <td>\n                        <p>Genre</p>\n                    </td>\n                    <td>\n                        <p>${checkGenresByIdModal(obj)}</p>\n                    </td>\n                </tr>\n            </table>\n            <h3 class='modal-movie-data__about_title'>About</h3>\n            <p class='modal-movie-data__about'>${obj.overview}</p>\n            <ul class='modal-movie-data__btn-list'>\n                <li class='modal-movie-data__btn-item'  >\n                    <button id='${\n                      obj.id\n                    }' class='modal-movie-data__btn modal-movie-data__btn-watched js-btn-to-watched' type='button' data-action='${\n    obj.id\n  }'   >\n                        ADD TO WATCHED\n                    </button>\n                    <button  id='${\n                      obj.id\n                    }' class='modal-movie-data__btn modal-movie-data__btn-watched active js-btn-from-watched' type='button' data-action='${\n    obj.id\n  }'>\n                        REMOVE FROM WATCHED\n                    </button>\n                </li>\n                <li class='modal-movie-data__button-item' >\n                    <button  id='${\n                      obj.id\n                    }' class='modal-movie-data__btn modal-movie-data__btn-queue js-btn-to-queue' type='button' data-action='${\n    obj.id\n  }'>\n                        ADD TO QUEUE\n                    </button>\n                    <button id='${\n                      obj.id\n                    }' class='modal-movie-data__btn modal-movie-data__btn-queue active js-btn-from-queue' type='button' data-action='${\n    obj.id\n  }'>\n                        REMOVE FROM QUEUE\n                    </button>\n                </li>\n            </ul>\n            <div class=\"trailer-btn-wrapper\">\n            <button  id='${\n              obj.id\n            }' class='trailer-btn' type='button' data-action='${obj.id}'>\n                        watch trailer\n                    </button>\n            </div>\n            </div>`;\n  movieCard.innerHTML = markup;\n}\n\n\n\n\n    \n\n\n"],"names":["parcelRequire","register","JSON","parse","$087c45695e1f0c2f$exports","getBundleURL","resolve","$3791646d3ae2cee8$var$watchedLibBtn","document","querySelector","$3791646d3ae2cee8$var$queueLibBtn","$3791646d3ae2cee8$var$libraryBox","$3791646d3ae2cee8$var$emptyGalleryBox","$3791646d3ae2cee8$var$localStorageObject","key","getObjectFromLs","localStorage","getItem","$3791646d3ae2cee8$var$watchedArray","$3791646d3ae2cee8$export$e7d1a4959038c5e5","arrayMovies","length","$3791646d3ae2cee8$var$clearMarkup","classList","remove","libraryMarkup","map","obj","$4ot2A","checkGenresById","posterSrc","poster_path","concat","$parcel$interopDefault","id","title","name","release_date","slice","first_air_date","vote_average","toFixed","join","insertAdjacentHTML","$3791646d3ae2cee8$export$2c57f17591d231ce","add","$3791646d3ae2cee8$export$ac55bd7e11afc2c2","innerHTML","addEventListener","$4a4a47bb87b9e6fa$var$currentId","$4a4a47bb87b9e6fa$var$toWatchedBtn","$4a4a47bb87b9e6fa$var$removeWatchedBtn","$4a4a47bb87b9e6fa$var$toQueueBtn","$4a4a47bb87b9e6fa$var$removeQueueBtn","$4a4a47bb87b9e6fa$var$saveWatchedListToLocalStorage","data","setItem","stringify","$4a4a47bb87b9e6fa$var$saveQueueListToLocalStorage","window","documentElement","style","setProperty","scrollY","$4a4a47bb87b9e6fa$var$watchedLibBtn","$4a4a47bb87b9e6fa$var$cardList","$4a4a47bb87b9e6fa$var$backdrop","$4a4a47bb87b9e6fa$var$closeModalBtn","$4a4a47bb87b9e6fa$var$movieCard","$4a4a47bb87b9e6fa$var$localStorageObject","$4a4a47bb87b9e6fa$var$openModal","event1","$4a4a47bb87b9e6fa$var$onToWatchedBtn","$4a4a47bb87b9e6fa$var$onRemoveWatchedBtn","$4a4a47bb87b9e6fa$var$onToQueueBtn","$4a4a47bb87b9e6fa$var$onRemoveQueueBtn","watchedFilms","queuedFilms","alreadyWatchedExists","find","item","alreadyOnQueue","$4a4a47bb87b9e6fa$var$hide","$4a4a47bb87b9e6fa$var$handlingButton","$4a4a47bb87b9e6fa$var$closeModal","event","target","value","$4a4a47bb87b9e6fa$var$closeModalBackdrop","$4a4a47bb87b9e6fa$var$closeModalEsc","setTimeout","firstElementChild","body","button","display","$4a4a47bb87b9e6fa$var$show","$4a4a47bb87b9e6fa$var$findMovieById","$4a4a47bb87b9e6fa$var$findMovieByIdModal","push","filter","sessionStorage","$4a4a47bb87b9e6fa$var$saveWatchedListSessionStorage","contains","$4a4a47bb87b9e6fa$var$saveQueueListToSessionStorage","event2","removeEventListener","background","top","position","scrollTo","parseInt","nodeName","$4a4a47bb87b9e6fa$var$renderModal","getPropertyValue","closest","backdrop_path","backgroundImage","backgroundSize","backgroundPosition","START_URL","markup","vote_count","popularity","original_title","checkGenresByIdModal","overview","$4a4a47bb87b9e6fa$var$mark","$4a4a47bb87b9e6fa$var$renderMovieCard","idMovie","savedTrendingFilms","arr","Number","savedTrendingFilms1","savedTrendingFilms2"],"version":3,"file":"gallery.526a1906.js.map"}